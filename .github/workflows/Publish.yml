      - name: Run
        env:
          FB_TOKEN: ${{ secrets.FB_TOKEN }}
          PAGE_ID: ${{ secrets.PAGE_ID }}
        run: |
          # ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù‚ÙˆÙŠ
          pip install yt-dlp requests
          python -c "
          import requests, os, time
          TOKEN = os.getenv('FB_TOKEN')
          PAGE_ID = os.getenv('PAGE_ID')
          # Ù…Ø­Ø§ÙˆÙ„Ø© ØµÙŠØ¯ ÙÙŠØ¯ÙŠÙˆ Ù…Ø¤ÙƒØ¯
          os.system(\"yt-dlp -f 'best[ext=mp4]' --max-downloads 1 --match-filter 'duration < 60' -o 'v.mp4' 'ytsearch20:satisfying shorts'\")
          if os.path.exists('v.mp4'):
              print('âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ÙÙŠØ¯ÙŠÙˆØŒ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...')
              os.system(\"ffmpeg -i v.mp4 -vf hflip -c:a copy out.mp4 -y\")
              url = f'https://graph.facebook.com/v18.0/{PAGE_ID}/video_reels'
              init = requests.post(url, data={'upload_phase': 'start', 'access_token': TOKEN}).json()
              if 'video_id' in init:
                  print(f'ğŸ“¡ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø±ÙØ¹ Ø§Ù„ÙØ¹Ù„ÙŠ (ID: {init[\"video_id\"]})...')
                  with open('out.mp4', 'rb') as f:
                      requests.post(init['upload_url'], data=f, headers={'Authorization': f'OAuth {TOKEN}'})
                  time.sleep(45)
                  res = requests.post(url, data={'upload_phase': 'finish', 'video_id': init['video_id'], 'video_state': 'PUBLISHED', 'description': 'Amazing! #ZainWorld', 'access_token': TOKEN}).json()
                  print(f'ğŸ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: {res}')
              else:
                  print(f'âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªÙˆÙƒÙ† Ø£Ùˆ Ø§Ù„ØµÙØ­Ø©: {init}')
          else:
              print('âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙŠ ÙÙŠØ¯ÙŠÙˆ Ù„Ù„ØªØ­Ù…ÙŠÙ„!')
          "
